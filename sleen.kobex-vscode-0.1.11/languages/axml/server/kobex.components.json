{
  "$base-node": {
    "attributes": {
      "a:for": {
        "type": "any",
        "description": "列表渲染。指定为数字时，表示循环指定次数；指定为数组时，循环数组中的元素",
        "snippet": "{{$1}}"
      },
      "a:for-index": {
        "type": "string",
        "expType": "never",
        "description": "使用 `a:for-index` 可以指定数组当前下标的变量名",
        "snippet": "${1:index}",
        "dependencies": ["a:for"]
      },
      "a:for-item": {
        "type": "string",
        "expType": "never",
        "description": "使用 `a:for-item` 可以指定数组当前元素的变量名",
        "snippet": "${1:item}",
        "dependencies": ["a:for"]
      },
      "a:if": {
        "type": "boolean",
        "description": "条件渲染 `if`"
      },
      "a:elif": {
        "type": "boolean",
        "description": "条件渲染 `else if`",
        "when": "('a:if' in $prev.attributes && !('a:for' in $prev.attributes)) || 'a:elif' in $prev.attributes"
      },
      "a:else": {
        "type": "boolean",
        "description": "条件渲染 `else`",
        "snippet": "",
        "when": "('a:if' in $prev.attributes && !('a:for' in $prev.attributes)) || 'a:elif' in $prev.attributes"
      },
      "key": {
        "type": "string",
        "description": "用于控制元素复用，同层级的不同元素 `key` 不能相同",
        "snippet": "{{$1}}",
        "when": "$this.tag !== 'block'"
      },
      "slot": {
        "type": "string",
        "description": "要插入的槽位名称",
        "when": "$parent.isRef"
      },
      "slot-scope": {
        "type": "string",
        "expType": "never",
        "snippet": "${1:props}",
        "description": "定义一个临时变量名，接收自定义组件内部传递出来的数据",
        "when": "$parent.isRef"
      },
      "reuse-type": {
        "type": "string",
        "expType": "always",
        "description": "不同样式的 cell 指定不同的 `reuse-type`，以提高 `list-view` 性能。`reuse-type` 相同的 cell 之间会复用",
        "snippet": "{{$1}}",
        "when": "$parent.tag === 'list-view'"
      },
      "sticky": {
        "type": "boolean",
        "description": "是否置顶到 `list-view` 的顶部",
        "when": "$parent.tag === 'list-view'"
      },
      "sticky-top": {
        "type": "number",
        "description": "`sticky` 时，距 `list-view` 顶部的高度（单位 px）",
        "when": "$parent.tag === 'list-view'",
        "dependencies": [
          "sticky"
        ]
      }
    }
  },
  "$style-node": {
    "extends": "$base-node",
    "attributes": {
      "style": {
        "type": "string",
        "description": "元素的内联样式"
      },
      "class": {
        "type": "string",
        "description": "元素的外部样式名，可以指定多个"
      },
      "id": {
        "type": "string",
        "description": "元素的 ID"
      },
      "animation": {
        "type": "any",
        "description": "动画。通过 `my.createAnimation` 创建动画描述",
        "snippet": "{{$1}}"
      },
      "onTap": {
        "type": "event",
        "description": "点击时触发"
      }
    }
  },
  "$slot": {
    "extends": "$base-node",
    "description": "定义组件槽位",
    "additionalAttributes": true,
    "attributes": {
      "name": {
        "type": "string",
        "description": "槽位名称"
      }
    }
  },
  "block": {
    "extends": "$base-node",
    "description": "逻辑区块"
  },
  "view": {
    "extends": "$style-node",
    "description": "视图容器。相当于 web 的 `div` 或者 react-native 的 `View`",
    "attributes": {
      "overlay": {
        "type": "boolean",
        "snippet": "",
        "description": "作为弹层显示。弹层**强制全屏**，`width`/`margin` 等属性无效。弹层始终显示在界面最上面，如果有多个弹层，按照书写顺序显示，写在后面的弹层显示在最上面。"
      }
    }
  },
  "text": {
    "extends": "$style-node",
    "description": "文本",
    "attributes": {
      "max-lines": {
        "type": "number",
        "description": "文本的最大行数，默认为 1"
      }
    }
  },
  "image": {
    "extends": "$style-node",
    "singleTag": true,
    "description": "图片。默认宽度 300px、高度 225px",
    "snippet": "<image src=\"$1\"/>",
    "attributes": {
      "src": {
        "type": "string",
        "required": true,
        "description": "图片链接，支持 Django Id"
      },
      "mode": {
        "type": "enum",
        "description": "图片模式",
        "enum": [
          "top",
          "bottom",
          "center",
          "left",
          "right",
          "top left",
          "top right",
          "bottom left",
          "bottom right",
          "scaleToFill",
          "aspectFit",
          "aspectFill",
          "widthFix",
          "heightFix"
        ],
        "enumDescriptions": [
          "不缩放图片，只显示顶部区域",
          "不缩放图片，只显示底部区域",
          "不缩放图片，只显示中间区域",
          "不缩放图片，只显示左边区域",
          "不缩放图片，只显示右边区域",
          "不缩放图片，只显示左上边区域",
          "不缩放图片，只显示右上边区域",
          "不缩放图片，只显示左下边区域",
          "不缩放图片，只显示右下边区域",
          "不保持纵横比缩放，使图片的宽高完全拉伸至填满 `image` 元素",
          "保持纵横比缩放，使图片的长边能完全显示出来。也就是说，可以完整地将图片显示出来",
          "保持纵横比缩放，只保证图片的短边能完全显示出来。也就是说，图片通常只在水平或垂直方向是完整的，另一个方向将会发生截取",
          "宽度不变，高度自动变化，保持原图宽高比不变",
          "高度不变，宽度自动变化，保持原图宽高比不变。（只在口碑小程序支持）"
        ]
      },
      "download-size": {
        "type": "string",
        "enum": [
          "original"
        ],
        "enumDescriptions": [
          "下载原图"
        ],
        "description": "设置为 `original` 表示下载原图；设置为 `xx%` 表示按图片框尺寸的百分比下载",
        "kobexOnly": true,
        "minVersion": "7.1.55"
      },
      "onError": {
        "type": "event",
        "description": "当图片加载错误时触发，事件对象 `event.detail = {errMsg: 'something wrong'}`",
        "minVersion": "7.1.55"
      },
      "onLoad": {
        "type": "event",
        "description": "图片载入完毕时触发，事件对象 `event.detail = {height:number, width:number}`",
        "minVersion": "7.1.55"
      }
    }
  },
  "swiper": {
    "extends": "$style-node",
    "description": "滑块视图容器",
    "snippet": "<swiper indicator-dots=\"{{${1:indicatorDots}}}\" autoplay=\"{{${2:autoplay}}}\" interval=\"{{${3:interval}}}\" duration=\"{{${4:duration}}}\">\n  <block a:for=\"{{${5:imgUrls}}}\">\n    <swiper-item>\n      <image src=\"{{${6:item}}}\" class=\"slide-image\" />\n    </swiper-item>\n  </block>\n</swiper>",
    "attributes": {
      "indicator-dots": {
        "type": "boolean",
        "description": "是否显示指示点",
        "default": false
      },
      "indicator-color": {
        "type": "color",
        "description": "指示点颜色",
        "default": "rgba(255, 255, 255, 0.5)",
        "dependencies": ["indicator-dots"]
      },
      "indicator-active-color": {
        "type": "color",
        "description": "当前选中的指示点颜色",
        "default": "white",
        "dependencies": ["indicator-dots"]
      },
      "autoplay": {
        "type": "boolean",
        "description": "是否自动切换",
        "default": false
      },
      "current": {
        "type": "number",
        "description": "当前页面的 index",
        "default": 0
      },
      "duration": {
        "type": "number",
        "description": "滑动动画时长（单位 ms）",
        "default": 500,
        "dependencies": ["autoplay"]
      },
      "interval": {
        "type": "number",
        "description": "自动切换时间间隔（单位 ms）",
        "default": 5000,
        "dependencies": ["autoplay"]
      },
      "circular": {
        "type": "boolean",
        "description": "是否启用无限滑动",
        "default": false
      },
      "vertical": {
        "type": "boolean",
        "description": "滑动方向是否为纵向",
        "default": false
      },
      "scroll-enabled": {
        "type": "boolean",
        "description": "是否允许用户滑动",
        "default": true,
        "kobexOnly": true
      },
      "onChange": {
        "type": "event",
        "description": "`current` 改变时会触发，`event.detail = {current: current}`"
      }
    }
  },
  "swiper-item": {
    "extends": "block",
    "description": "只可作为 `swiper` 的子元素。表示一页，宽高自动设置为100%。",
    "when": "$parentView.tag === 'swiper'"
  },
  "scroll-view": {
    "extends": "$style-node",
    "description": "可滚动视图区域",
    "attributes": {
      "scroll-x": {
        "type": "boolean",
        "description": "允许横向滚动",
        "default": false
      },
      "scroll-y": {
        "type": "boolean",
        "description": "允许纵向滚动",
        "default": false
      },
      "upper-threshold": {
        "type": "number",
        "description": "距顶部/左边多远时（单位px），触发 `onScrollToUpper` 事件",
        "default": 50,
        "dependencies": ["onScrollToUpper"]
      },
      "lower-threshold": {
        "type": "number",
        "description": "距底部/右边多远时（单位px），触发 `onScrollToLower` 事件",
        "default": 50,
        "dependencies": ["onScrollToLower"]
      },
      "scroll-top": {
        "type": "number",
        "description": "设置竖向滚动条位置（单位px）"
      },
      "scroll-left": {
        "type": "number",
        "description": "设置横向滚动条位置"
      },
      "scroll-into-view": {
        "type": "string",
        "description": "值应为某子元素 `id`，则滚动到该元素，元素顶部对齐滚动区域顶部"
      },
      "onScrollToUpper": {
        "type": "event",
        "description": "滚动到顶部/左边时触发"
      },
      "onScrollToLower": {
        "type": "event",
        "description": "滚动到底部/右边时触发"
      },
      "onScroll": {
        "type": "event",
        "description": "滚动时触发，`event.detail = {scrollLeft, scrollTop, scrollHeight, scrollWidth}`"
      }
    }
  },
  "list-view": {
    "extends": "$style-node",
    "description": "可复用 cell 的列表，竖直方向滚动。\n\n如果 `list-view` 会在中间做插入/删除操作，**为优化性能，请为子元素指定 `key` 属性**（不能重复，如 `item.shopId`），否则会导致修改的 cell 后面所有 cell 重新渲染",
    "snippet": "<list-view data=\"{{${1:list}}}\">\n  <view reuse-type=\"{{${2:item.type}}}\">\n    $0\n  </view>\n</list-view>",
    "attributes": {
      "data": {
        "type": "array",
        "description": "列表的数据源",
        "required": true
      },
      "item-key": {
        "type": "string",
        "expType": "never",
        "snippet": "${1:item}",
        "description": "数据的变量名，默认为 `item`"
      },
      "scroll-top": {
        "type": "number",
        "description": "设置竖向滚动条位置（单位px）"
      },
      "scroll-into-view": {
        "type": "string",
        "description": "值应为某子元素 `id`，则滚动到该元素，元素顶部对齐滚动区域顶部"
      },
      "onScrollToUpper": {
        "type": "event",
        "description": "滚动到顶部/左边时触发"
      },
      "onScrollToLower": {
        "type": "event",
        "description": "滚动到底部/右边时触发"
      },
      "onScroll": {
        "type": "event",
        "description": "滚动时触发，`event.detail = {scrollLeft, scrollTop, scrollHeight, scrollWidth}`"
      }
    }
  },
  "icon": {
    "extends": "$style-node",
    "singleTag": true,
    "description": "图标",
    "snippet": "<icon type=\"${1:loading}\"/>",
    "minVersion": "7.1.55",
    "attributes": {
      "type": {
        "type": "enum",
        "enum": [
          "info",
          "warn",
          "waiting",
          "cancel",
          "download",
          "search",
          "clear",
          "success",
          "success_no_circle",
          "loading"
        ],
        "required": true,
        "description": "icon 类型"
      },
      "size": {
        "type": "number",
        "description": "icon 大小，单位 px"
      },
      "color": {
        "type": "color",
        "description": "icon 颜色，同 css 的 `color`"
      }
    }
  },
  "input": {
    "extends": "$style-node",
    "singleTag": true,
    "description": "输入框",
    "snippet": "<input $1/>",
    "attributes": {
      "value": {
        "type": "string",
        "description": "初始内容"
      },
      "type": {
        "type": "enum",
        "description": "input 的类型",
        "enum": [
          "text",
          "number",
          "digit"
        ],
        "default": "text"
      },
      "password": {
        "type": "boolean",
        "default": false,
        "description": "是否是密码类型"
      },
      "placeholder": {
        "type": "string",
        "description": "占位符"
      },
      "placeholder-style": {
        "type": "string",
        "description": "指定 `placeholder` 的样式，只支持 color，如：`color: red`",
        "dependencies": ["placeholder"]
      },
      "disabled": {
        "type": "boolean",
        "default": false,
        "description": "是否禁用"
      },
      "maxlength": {
        "type": "number",
        "default": 140,
        "description": "最大长度"
      },
      "focus": {
        "type": "boolean",
        "description": "获取焦点",
        "default": false
      },
      "confirm-type": {
        "type": "enum",
        "description": "设置键盘右下角按钮的文字，平台不同显示的文字略有差异",
        "default": "done",
        "minVersion": "7.1.58",
        "enum": [
          "done",
          "go",
          "next",
          "search",
          "send"
        ],
        "enumDescriptions": [
          "显示“完成”",
          "显示“前往”",
          "显示“下一个”",
          "显示“搜索”",
          "显示“发送”"
        ]
      },
      "confirm-hold": {
        "type": "boolean",
        "description": "点击键盘右下角按钮时是否保持键盘不收起状态",
        "default": false,
        "minVersion": "7.1.58",
        "snippet": ""
      },
      "cursor": {
        "type": "number",
        "description": "指定focus时的光标位置",
        "default": -1,
        "minVersion": "7.1.58"
      },
      "selection-start": {
        "type": "number",
        "description": "获取光标时，选中文本对应的焦点光标起始位置，需要和 `selection-end` 配合使用",
        "default": -1,
        "minVersion": "7.1.58"
      },
      "selection-end": {
        "type": "number",
        "description": "获取光标时，选中文本对应的焦点光标结束位置，需要和 `selection-start` 配合使用",
        "default": -1,
        "minVersion": "7.1.58"
      },
      "onInput": {
        "type": "event",
        "description": "键盘输入时触发，`event.detail = {value: value}`"
      },
      "onFocus": {
        "type": "event",
        "description": "失去焦点时触发，`event.detail = {value: value}`"
      },
      "onBlur": {
        "type": "event",
        "description": "失去焦点时触发，`event.detail = {value: value}`"
      },
      "onConfirm": {
        "type": "event",
        "minVersion": "7.1.58",
        "description": "点击键盘完成时触发，`event.detail = {value: value}`"
      }
    }
  },
  "textarea": {
    "extends": "$style-node",
    "singleTag": true,
    "description": "多行输入框",
    "snippet": "<textarea $1/>",
    "minVersion": "7.1.58",
    "attributes": {
      "value": {
        "type": "string",
        "description": "初始内容"
      },
      "placeholder": {
        "type": "string",
        "description": "占位符"
      },
      "placeholder-style": {
        "type": "string",
        "description": "指定 `placeholder` 的样式，只支持 color，如：`color: red`",
        "dependencies": [
          "placeholder"
        ]
      },
      "disabled": {
        "type": "boolean",
        "default": false,
        "description": "是否禁用"
      },
      "maxlength": {
        "type": "number",
        "default": 140,
        "description": "最大长度"
      },
      "focus": {
        "type": "boolean",
        "description": "获取焦点",
        "snippet": "",
        "default": false
      },
      "auto-height": {
        "type": "boolean",
        "description": "是否自动增高",
        "snippet": "",
        "default": false
      },
      "show-count": {
        "type": "boolean",
        "description": "是否渲染字数统计功能",
        "default": true
      },
      "onInput": {
        "type": "event",
        "description": "键盘输入时触发，`event.detail = {value: value}`"
      },
      "onFocus": {
        "type": "event",
        "description": "失去焦点时触发，`event.detail = {value: value}`"
      },
      "onBlur": {
        "type": "event",
        "description": "失去焦点时触发，`event.detail = {value: value}`"
      },
      "onConfirm": {
        "type": "event",
        "description": "点击键盘完成时触发，`event.detail = {value: value}`"
      }
    }
  },
  "video": {
    "extends": "$style-node",
    "description": "视频组件，支持线上或本地 mp4 文件的播放。需要配合 `my.createVideoContext` 使用",
    "singleTag": true,
    "snippet": "<video src=\"$1\"/>",
    "minVersion": "7.1.55",
    "attributes": {
      "src": {
        "type": "string",
        "description": "要播放视频的资源地址，可加载本地文件",
        "required": true
      },
      "controls": {
        "type": "boolean",
        "default": true,
        "description": "是否显示默认播放控件（播放/暂停按钮、播放进度、时间）"
      },
      "autoplay": {
        "type": "boolean",
        "default": false,
        "description": "是否自动播放"
      },
      "duration": {
        "type": "number",
        "description": "指定视频时长，到点会暂停播放"
      },
      "onPlay": {
        "type": "event",
        "description": "开始/继续播放时触发"
      },
      "onPause": {
        "type": "event",
        "description": "暂停播放时触发"
      },
      "onEnded": {
        "type": "event",
        "description": "播放到末尾时触发"
      },
      "onTimeUpdate": {
        "type": "event",
        "description": "播放进度变化时触发，event.detail = {currentTime: '当前播放时间'} 。触发频率应该在 `250ms` 一次"
      },
      "objectFit": {
        "type": "enum",
        "description": "当视频大小与 `video` 容器大小不一致时，视频的表现形式",
        "enum": [
          "contain",
          "cover"
        ],
        "default": "contain",
        "enumDescriptions": [
          "包含",
          "覆盖"
        ]
      },
      "poster": {
        "type": "string",
        "description": "默认控件上的封面的图片资源地址"
      }
    }
  },
  "picker-view": {
    "extends": "$style-node",
    "description": "嵌入页面的滚动选择器",
    "snippet": "<picker-view>\n  $0\n</picker-view>",
    "minVersion": "7.1.55",
    "allowedChildren": ["picker-view-column"],
    "attributes": {
      "value": {
        "type": "array",
        "description": "当前选中索引数组。数字表示 `picker-view-column` 中对应的 `index` （从 0 开始）"
      },
      "indicatorStyle": {
        "type": "string",
        "description": "选中框样式"
      },
      "indicator-class": {
        "type": "string",
        "description": "选中框的类名"
      },
      "onChange": {
        "type": "event",
        "description": "滚动选择 `value` 改变时触发，`event.detail = {value: value}`；`value` 为数组，表示 `picker-view` 内的 `picker-view-column` index 索引 ,从 0 开始"
      }
    }
  },
  "picker-view-column": {
    "extends": "block",
    "description": "只可作为 `picker-view` 的子元素。表示一列选择项目，子元素每一项为一个选项。",
    "when": "$parentView.tag === 'picker-view'",
    "snippet": "<picker-view-column>\n  $0\n</picker-view-column>",
    "minVersion": "7.1.55"
  },
  "map": {
    "extends": "$style-node",
    "description": "地图组件",
    "singleTag": true,
    "minVersion": "7.1.58",
    "attributes": {
      "longitude": {
        "type": "number",
        "description": "中心经度"
      },
      "latitude": {
        "type": "number",
        "description": "中心纬度"
      },
      "scale": {
        "type": "number",
        "description": "缩放级别，范围为5 ~ 18",
        "default": 16
      },
      "markers": {
        "type": "array",
        "description": "标记点。支持属性：\n\n`latitude` 纬度\n\n`longitude` 经度\n\n`iconPath` 显示的图标。项目目录下的图片路径，可以用相对路径写法，以'/'开头则表示相对小程序根目录\n\n`width` 标注图标宽度。默认为图片的实际宽度\n\n`height` 标注图标高度。默认为图片的实际高度"
      },
      "show-location": {
        "type": "boolean",
        "default": false,
        "snippet": "",
        "description": "是否显示带有方向的当前定位点"
      }
    }
  }
}